<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>年、月选择插件API&Demo</title>
<link href="../css/base.css" rel="stylesheet" type="text/css" />
<!--<link href="../css/timeYM.css" rel="stylesheet" type="text/css" />-->
<style type="text/css">
.wrap {margin:20px;font-size:12px;}
h2 {height:50px;padding-left:15px;background:#eee;font:bold 18px/50px 'Microsoft Yahei';margin:20px 0;}
.info {font:14px/25px 'Microsoft Yahei';color:#666;padding:15px; background-color:#f9f9f9;}
.info ul li {list-style:square;margin-left:30px;}
</style>
</head>
<body>
<div class="wrap">
    <h2>年、月选择插件API：</h2>
    <input type="text" id="start_date_y" maxlength="4" size="4" /> <span class="txt">年</span>
    <input type="text" id="start_date_m" maxlength="2" size="4" /> <span class="txt">月</span>
    
    至 
    <input type="text" id="end_date_y" maxlength="4" size="4" /> <span class="txt">年</span>
    <input type="text" id="end_date_m" maxlength="2" size="4" /> <span class="txt">月</span>
    <!--<span class="modifyEndYM" title="修改结束年月">[现在]</span>
    <input id="sinceNow" name="sinceNow" type="hidden" />-->
    <h2>功能说明：</h2>
    <div class="info">
        <ul>
            <li>开始年份选择后，结束年份自动计算，值≥开始年份</li>
            <li>若结束年份=开始年份，开始月份、结束月份自动计算（若选择了开始月份，结束月份自动从开始月份起，最大值为12月；反之亦会自动计算）</li>
            <li>从开始年份开始选择，会自动跳至下个选择框</li>
            <li>“至今”功能移至结束年份/月份中，若要默认为“至今”，请参照下面的API</li>
            <li>可清空选择</li>
            <li>目前只支持页面上存在一个该日期控件，若要支持多个需要扩展插件</li>
        </ul>
    </div>
    <h2>调用方法：</h2>
    <pre style="margin:15px 0;font:100 12px/18px monaco, andale mono, courier new;padding:10px 12px;border:#ccc 1px solid;border-left-width:4px;background-color:#fefefe;box-shadow:0 0 4px #eee;word-break:break-all;word-wrap:break-word;color:#444"><span style="color:#170">&lt;input</span> <span style="color:#00c">type</span>=<span style="color:#a11">"text"</span> <span style="color:#00c">id</span>=<span style="color:#a11">"start_date_y"</span> <span style="color:#00c">maxlength</span>=<span style="color:#a11">"4"</span> <span style="color:#00c">size</span>=<span style="color:#a11">"4"</span> <span style="color:#170">/&gt;</span> <span style="color:#170">&lt;span</span> <span style="color:#00c">class</span>=<span style="color:#a11">"txt"</span><span style="color:#170">&gt;</span>年<span style="color:#170">&lt;/span</span><span style="color:#170">&gt;</span><br><span style="color:#170">&lt;input</span> <span style="color:#00c">type</span>=<span style="color:#a11">"text"</span> <span style="color:#00c">id</span>=<span style="color:#a11">"start_date_m"</span> <span style="color:#00c">maxlength</span>=<span style="color:#a11">"2"</span> <span style="color:#00c">size</span>=<span style="color:#a11">"4"</span> <span style="color:#170">/&gt;</span> <span style="color:#170">&lt;span</span> <span style="color:#00c">class</span>=<span style="color:#a11">"txt"</span><span style="color:#170">&gt;</span>月<span style="color:#170">&lt;/span</span><span style="color:#170">&gt;</span><br>至 <br><span style="color:#170">&lt;input</span> <span style="color:#00c">type</span>=<span style="color:#a11">"text"</span> <span style="color:#00c">id</span>=<span style="color:#a11">"end_date_y"</span> <span style="color:#00c">maxlength</span>=<span style="color:#a11">"4"</span> <span style="color:#00c">size</span>=<span style="color:#a11">"4"</span> <span style="color:#170">/&gt;</span> <span style="color:#170">&lt;span</span> <span style="color:#00c">class</span>=<span style="color:#a11">"txt"</span><span style="color:#170">&gt;</span>年<span style="color:#170">&lt;/span</span><span style="color:#170">&gt;</span><br><span style="color:#170">&lt;input</span> <span style="color:#00c">type</span>=<span style="color:#a11">"text"</span> <span style="color:#00c">id</span>=<span style="color:#a11">"end_date_m"</span> <span style="color:#00c">maxlength</span>=<span style="color:#a11">"2"</span> <span style="color:#00c">size</span>=<span style="color:#a11">"4"</span> <span style="color:#170">/&gt;</span> <span style="color:#170">&lt;span</span> <span style="color:#00c">class</span>=<span style="color:#a11">"txt"</span><span style="color:#170">&gt;</span>月<span style="color:#170">&lt;/span</span><span style="color:#170">&gt;</span><br><span style="color:#a50">&lt;!--&lt;span class="modifyEndYM" title="修改结束年月"&gt;[现在]&lt;/span&gt;&lt;input id="sinceNow" name="sinceNow" type="hidden" /&gt;--&gt;</span></pre>
    <h2>JS代码：</h2>
    <pre style="margin:15px 0;font:100 12px/18px monaco, andale mono, courier new;padding:10px 12px;border:#ccc 1px solid;border-left-width:4px;background-color:#fefefe;box-shadow:0 0 4px #eee;word-break:break-all;word-wrap:break-word;color:#444"><span style="color:#000">$</span>(<span style="color:#a11">'#start_date_y'</span>).<span style="color:#000">timeYM</span>();<br><span style="color:#000">$</span>(<span style="color:#a11">'#start_date_m'</span>).<span style="color:#000">timeYM</span>({<br>    <span style="color:#000">type</span>: <span style="color:#a11">'month'</span>,<br>    <span style="color:#000">title</span>: <span style="color:#a11">'开始月份'</span>,<br>    <span style="color:#000">css</span>: {<br>        <span style="color:#000">width</span>: <span style="color:#164">50</span>,<br>        <span style="color:#000">textAlign</span>: <span style="color:#a11">'center'</span>,<br>        <span style="color:#000">paddingLeft</span>: <span style="color:#164">0</span><br>    }<br>});<br><span style="color:#000">$</span>(<span style="color:#a11">'#end_date_y'</span>).<span style="color:#000">timeYM</span>({<br>    <span style="color:#000">title</span>: <span style="color:#a11">'结束年份'</span>,<br>    <span style="color:#000">seType</span>: <span style="color:#a11">'end'</span><br>});<br><span style="color:#000">$</span>(<span style="color:#a11">'#end_date_m'</span>).<span style="color:#000">timeYM</span>({<br>    <span style="color:#000">type</span>: <span style="color:#a11">'month'</span>,<br>    <span style="color:#000">title</span>: <span style="color:#a11">'结束月份'</span>,<br>    <span style="color:#000">seType</span>: <span style="color:#a11">'end'</span><br>});</pre>
</div>
<script type="text/javascript" src="http://image.tianji.com/tjs/gallery/jquery-1.7.2.min.js"></script>
<script type="text/javascript" src="../js/timeYMPlugin.js"></script>
<script type="text/javascript">
$('#start_date_y').timeYM();
$('#start_date_m').timeYM({
    type: 'month',
    title: '开始月份',
    css: {
        width: 50,
        textAlign: 'center',
        paddingLeft: 0
    }
});
$('#end_date_y').timeYM({
    title: '结束年份',
    seType: 'end'
});
$('#end_date_m').timeYM({
    type: 'month',
    title: '结束月份',
    seType: 'end'
});
</script>
</body>
</html>